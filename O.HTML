<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>X Trading Hub - Advanced E-Trading Platform</title>
    <script src="https://cdn.tailwindcss.com/3.4.1"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #6a11cb;
            --secondary-color: #2575fc;
            --background-color: #f4f7f6;
            --text-color: #333;
            --accent-color: #00b4db;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            scrollbar-width: thick;
            scrollbar-color: auto;
        }

        body {
            font-family: 'Orbitron', sans-serif;
            background:black;
            color: white;
        }

        .post-card {
            transition: all 0.3s ease;
        }

        .post-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        .vote-button {
            transition: all 0.2s ease;
        }

        .vote-button:hover {
            transform: scale(1.1);
        }

        .fade-in {
            animation: fadeIn 0.5s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }

        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        .skeleton {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite;
        }

        @keyframes shimmer {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }

        .community-card {
            transition: all 0.3s ease;
        }

        .community-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        }

        .gradient-text {
            background: linear-gradient(90deg, #f43f5e 0%, #8b5cf6 100%);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        /* Live Chat Styles */
        .chat-container {
            position: fixed;
            bottom: 80px;
            right: 20px;
            width: 350px;
            max-height: 500px;
            background: #1a1a1a;
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            display: flex;
            flex-direction: column;
            z-index: 1000;
            transform: translateY(20px);
            opacity: 0;
            transition: all 0.3s ease;
            border: 1px solid #333;
        }

        .chat-container.active {
            transform: translateY(0);
            opacity: 1;
        }

        .chat-header {
            padding: 15px;
            background: linear-gradient(135deg, #6a11cb, #2575fc);
            color: white;
            border-top-left-radius: 12px;
            border-top-right-radius: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chat-header h3 {
            font-weight: 600;
            font-size: 16px;
            margin: 0;
        }

        .chat-close {
            background: none;
            border: none;
            color: white;
            font-size: 18px;
            cursor: pointer;
        }

        .chat-messages {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
            background: #1a1a1a;
        }

        .message {
            margin-bottom: 15px;
            display: flex;
            flex-direction: column;
        }

        .message-user {
            font-weight: 600;
            font-size: 12px;
            color: #8b5cf6;
            margin-bottom: 5px;
        }

        .message-text {
            background: #2d2d37;
            padding: 10px 15px;
            border-radius: 18px;
            font-size: 14px;
            max-width: 80%;
            word-wrap: break-word;
            color: white;
        }

        .message-time {
            font-size: 10px;
            color: #777;
            margin-top: 5px;
            align-self: flex-end;
        }

        .chat-input-container {
            padding: 15px;
            background: #22222a;
            border-bottom-left-radius: 12px;
            border-bottom-right-radius: 12px;
            display: flex;
            align-items: center;
        }

        .chat-input {
            flex: 1;
            padding: 10px 15px;
            border-radius: 20px;
            border: none;
            background: #383844;
            color: white;
            font-family: 'Orbitron', sans-serif;
            font-size: 14px;
            outline: none;
        }

        .chat-send {
            background: linear-gradient(135deg, #6a11cb, #2575fc);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin-left: 10px;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
        }

        .chat-send:hover {
            transform: scale(1.05);
        }

        .chat-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #6a11cb, #2575fc);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            transition: all 0.3s ease;
        }

        .chat-toggle:hover {
            transform: scale(1.1);
        }

        .chat-toggle.active {
            transform: rotate(180deg);
        }

        /* Responsive adjustments */
        @media (max-width: 640px) {
            .chat-container {
                width: 90%;
                right: 5%;
                bottom: 100px;
                max-height: 60vh;
            }
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #1a1a1a;
        }

        ::-webkit-scrollbar-thumb {
            background: #6a11cb;
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #2575fc;
        }

        /* Modal animations */
        .modal-enter {
            opacity: 0;
            transform: scale(0.9);
        }

        .modal-enter-active {
            opacity: 1;
            transform: translateX(0);
            transition: opacity 300ms, transform 300ms;
        }

        .modal-exit {
            opacity: 1;
        }

        .modal-exit-active {
            opacity: 0;
            transform: scale(0.9);
            transition: opacity 300ms, transform 300ms;
        }

        /* Pulse animation for notifications */
        @keyframes pulse {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
            100% {
                transform: scale(1);
            }
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        /* Tooltip styles */
        .tooltip {
            position: relative;
            display: inline-block;
        }

        .tooltip .tooltiptext {
            visibility: hidden;
            width: 120px;
            background-color: #333;
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 5px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            margin-left: -60px;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .tooltip .tooltiptext::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: #333 transparent transparent transparent;
        }

        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }

        /* Loading spinner */
        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top: 4px solid #6a11cb;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- Main Navigation -->
    <nav class="bg-black shadow-sm sticky top-0 z-50">
        <div class="container mx-auto px-4">
            <div class="flex items-center justify-between h-16">
                <!-- Logo and main nav -->
                <div class="flex items-center space-x-8">
                    <div class="flex items-center">
                        <i class="fas fa-smile-beam text-2xl text-purple-500 mr-2"></i>
                        <span class="text-xl font-bold gradient-text">SmileX</span>
                    </div>
                </div>

                <!-- Search and user controls -->
                <div class="flex items-center space-x-4">
                    <div class="relative hidden md:block">
                        <input type="text" placeholder="Search Communities..."
                            class="w-64 pl-10 pr-4 py-2 bg-gray-800 border border-gray-700 rounded-full text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                        <i class="fas fa-search absolute left-3 top-2.5 text-gray-400"></i>
                    </div>

                    <div class="relative">
                        <button id="notification-btn" class="p-2 rounded-full bg-gray-800 text-gray-300 hover:bg-gray-700 relative">
                            <i class="fas fa-bell"></i>
                            <span id="notification-count" class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center hidden">3</span>
                        </button>
                        <div id="notification-dropdown" class="hidden absolute right-0 mt-2 w-72 bg-gray-900 rounded-md shadow-lg z-50 border border-gray-700">
                            <div class="p-3 border-b border-gray-700 flex justify-between items-center">
                                <h3 class="font-medium">Notifications</h3>
                                <button class="text-xs text-purple-400">Mark all as read</button>
                            </div>
                            <div class="max-h-60 overflow-y-auto">
                                <a href="#" class="block px-4 py-3 hover:bg-gray-800 border-b border-gray-800">
                                    <div class="flex items-start">
                                        <div class="flex-shrink-0">
                                            <div class="w-8 h-8 rounded-full bg-purple-500 flex items-center justify-center text-white text-xs">S</div>
                                        </div>
                                        <div class="ml-3">
                                            <p class="text-sm font-medium">New message from SmileX</p>
                                            <p class="text-xs text-gray-400 mt-1">2 minutes ago</p>
                                        </div>
                                    </div>
                                </a>
                                <a href="#" class="block px-4 py-3 hover:bg-gray-800 border-b border-gray-800">
                                    <div class="flex items-start">
                                        <div class="flex-shrink-0">
                                            <div class="w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center text-white text-xs">T</div>
                                        </div>
                                        <div class="ml-3">
                                            <p class="text-sm font-medium">Team SmileX posted an update</p>
                                            <p class="text-xs text-gray-400 mt-1">15 minutes ago</p>
                                        </div>
                                    </div>
                                </a>
                                <a href="#" class="block px-4 py-3 hover:bg-gray-800">
                                    <div class="flex items-start">
                                        <div class="flex-shrink-0">
                                            <div class="w-8 h-8 rounded-full bg-green-500 flex items-center justify-center text-white text-xs">A</div>
                                        </div>
                                        <div class="ml-3">
                                            <p class="text-sm font-medium">Your account was accessed from a new device</p>
                                            <p class="text-xs text-gray-400 mt-1">1 hour ago</p>
                                        </div>
                                    </div>
                                </a>
                            </div>
                            <div class="p-3 border-t border-gray-700 text-center">
                                <a href="#" class="text-sm text-purple-400 hover:underline">View all notifications</a>
                            </div>
                        </div>
                    </div>

                    <div class="relative" id="user-dropdown-container">
                        <button id="user-dropdown-btn" class="flex items-center space-x-2 focus:outline-none">
                            <div class="w-8 h-8 rounded-full bg-gradient-to-r from-purple-500 to-blue-500 flex items-center justify-center text-white font-bold">
                                <span>U</span>
                            </div>
                            <i class="fas fa-chevron-down text-xs text-gray-400"></i>
                        </button>
                        <div id="user-dropdown" class="hidden absolute right-0 mt-2 w-48 bg-gray-900 rounded-md shadow-lg z-50 border border-gray-700">
                            <div class="py-1">
                                <a href="#" class="block px-4 py-2 text-sm text-gray-300 hover:bg-gray-800">Profile</a>
                                <a href="#" class="block px-4 py-2 text-sm text-gray-300 hover:bg-gray-800">Settings</a>
                                <a href="#" class="block px-4 py-2 text-sm text-gray-300 hover:bg-gray-800">Messages</a>
                                <div class="border-t border-gray-700"></div>
                                <a href="#" class="block px-4 py-2 text-sm text-gray-300 hover:bg-gray-800">Sign out</a>
                            </div>
                        </div>
                    </div>

                    <button id="mobile-menu-btn" class="md:hidden p-2 rounded-full bg-gray-800 text-gray-300 hover:bg-gray-700">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Mobile menu -->
    <div id="mobile-menu" class="hidden md:hidden bg-gray-900 border-t border-gray-800">
        <div class="px-2 pt-2 pb-3 space-y-1">
            <a href="#" class="block px-3 py-2 rounded-md text-base font-medium text-white bg-gray-800">Home</a>
            <a href="#" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-white hover:bg-gray-800">Explore</a>
            <a href="#" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-white hover:bg-gray-800">Communities</a>
            <a href="#" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-white hover:bg-gray-800">Notifications</a>
            <a href="#" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-white hover:bg-gray-800">Messages</a>
            <a href="#" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-white hover:bg-gray-800">Profile</a>
            <a href="#" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-white hover:bg-gray-800">Settings</a>
        </div>
    </div>

    <!-- Main content -->
    <div class="container mx-auto px-4 py-6">
        <div class="flex flex-col lg:flex-row gap-6">
            <!-- Left sidebar - Communities -->
            <div class="lg:w-1/5 hidden lg:block">
                <div class="bg-gray-900 rounded-lg shadow-sm p-4 sticky top-24">
                    <h3 class="font-bold text-lg mb-4 flex items-center">
                        <i class="fas fa-users mr-2 text-purple-500"></i>
                        Communities
                    </h3>
                    <ul class="space-y-2">
                        <li>
                            <a href="#" class="flex items-center p-2 rounded-lg hover:bg-gray-800">
                                <span class="w-6 h-6 rounded-full bg-blue-500 flex items-center justify-center text-white text-xs mr-2">S</span>
                                <span>SmileX</span>
                            </a>
                        </li>
                        <li>
                            <a href="#" class="flex items-center p-2 rounded-lg hover:bg-gray-800">
                                <span class="w-6 h-6 rounded-full bg-green-500 flex items-center justify-center text-white text-xs mr-2">T</span>
                                <span>Team SmileX</span>
                            </a>
                        </li>
                        <li>
                            <a href="#" class="flex items-center p-2 rounded-lg hover:bg-gray-800">
                                <span class="w-6 h-6 rounded-full bg-red-500 flex items-center justify-center text-white text-xs mr-2">M</span>
                                <span>Memes</span>
                            </a>
                        </li>
                        <li>
                            <a href="#" class="flex items-center p-2 rounded-lg hover:bg-gray-800">
                                <span class="w-6 h-6 rounded-full bg-yellow-500 flex items-center justify-center text-white text-xs mr-2">G</span>
                                <span>Gaming</span>
                            </a>
                        </li>
                        <li>
                            <a href="#" class="flex items-center p-2 rounded-lg hover:bg-gray-800">
                                <span class="w-6 h-6 rounded-full bg-purple-500 flex items-center justify-center text-white text-xs mr-2">T</span>
                                <span>Technology</span>
                            </a>
                        </li>

                        <div class="mt-6">
                            <button id="create-community-btn" class="w-full py-2 px-4 bg-gray-800 text-purple-400 rounded-lg font-medium hover:bg-gray-700 flex items-center justify-center">
                                <i class="fas fa-plus mr-2"></i> Create Community
                            </button>
                        </div>

                        <div class="mt-6">
                            <h3 class="font-bold text-lg mb-4 flex items-center">
                                <i class="fas fa-fire mr-2 text-purple-500"></i>
                                Trending
                            </h3>
                            <ul class="space-y-3">
                                <li>
                                    <a href="#" class="flex items-center justify-between p-2 rounded-lg hover:bg-gray-800">
                                        <div class="flex items-center">
                                            <span class="w-6 h-6 rounded-full bg-red-500 flex items-center justify-center text-white text-xs mr-2">S</span>
                                            <span>SmileX</span>
                                        </div>
                                        <span class="text-xs text-gray-400">+12.5M</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="#" class="flex items-center justify-between p-2 rounded-lg hover:bg-gray-800">
                                        <div class="flex items-center">
                                            <span class="w-6 h-6 rounded-full bg-indigo-500 flex items-center justify-center text-white text-xs mr-2">T</span>
                                            <span>t/Team SmileX</span>
                                        </div>
                                        <span class="text-xs text-gray-400">+8.2M</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="#" class="flex items-center justify-between p-2 rounded-lg hover:bg-gray-800">
                                        <div class="flex items-center">
                                            <span class="w-6 h-6 rounded-full bg-pink-500 flex items-center justify-center text-white text-xs mr-2">M</span>
                                            <span>m/Memes</span>
                                        </div>
                                        <span class="text-xs text-gray-400">+5.7M</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="#" class="flex items-center justify-between p-2 rounded-lg hover:bg-gray-800">
                                        <div class="flex items-center">
                                            <span class="w-6 h-6 rounded-full bg-yellow-500 flex items-center justify-center text-white text-xs mr-2">G</span>
                                            <span>g/Gaming</span>
                                        </div>
                                        <span class="text-xs text-gray-400">+4.3M</span>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </ul>
                </div>
            </div>

            <!-- Main feed -->
            <div class="lg:w-3/5">
                <!-- Create post card -->
                <div class="bg-gray-900 rounded-lg shadow-sm mb-6 post-card">
                    <div class="p-4">
                        <div class="flex items-center space-x-3">
                            <div class="w-10 h-10 rounded-full bg-gradient-to-r from-purple-500 to-blue-500 flex items-center justify-center text-white font-bold">
                                <span>U</span>
                            </div>
                            <input type="text" placeholder="Create a post..."
                                class="flex-1 px-4 py-2 bg-gray-800 rounded-full text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent cursor-pointer"
                                onclick="document.getElementById('create-post-modal').classList.remove('hidden')">
                        </div>
                        <div class="flex justify-between mt-3">
                            <button class="flex-1 py-2 px-3 rounded-lg hover:bg-gray-800 text-gray-300 flex items-center justify-center">
                                <i class="far fa-image text-lg mr-2"></i> Image
                            </button>
                            <button class="flex-1 py-2 px-3 rounded-lg hover:bg-gray-800 text-gray-300 flex items-center justify-center">
                                <i class="fas fa-link text-lg mr-2"></i> Link
                            </button>
                            <button class="flex-1 py-2 px-3 rounded-lg hover:bg-gray-800 text-gray-300 flex items-center justify-center">
                                <i class="far fa-file-alt text-lg mr-2"></i> Text
                            </button>
                            <button class="flex-1 py-2 px-3 rounded-lg hover:bg-gray-800 text-gray-300 flex items-center justify-center">
                                <i class="fas fa-poll text-lg mr-2"></i> Poll
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Post sorting -->
                <div class="bg-gray-900 rounded-lg shadow-sm mb-6">
                    <div class="p-3 flex items-center space-x-4 overflow-x-auto scrollbar-hide">
                        <button id="sort-hot" class="px-3 py-1.5 bg-gray-800 text-purple-400 rounded-full text-sm font-medium whitespace-nowrap">
                            <i class="fas fa-bolt mr-1"></i> Hot
                        </button>
                        <button id="sort-new" class="px-3 py-1.5 bg-gray-800 text-gray-300 rounded-full text-sm font-medium hover:bg-gray-700 whitespace-nowrap">
                            <i class="fas fa-certificate mr-1"></i> New
                        </button>
                        <button id="sort-top" class="px-3 py-1.5 bg-gray-800 text-gray-300 rounded-full text-sm font-medium hover:bg-gray-700 whitespace-nowrap">
                            <i class="fas fa-arrow-trend-up mr-1"></i> Top
                        </button>
                        <button id="sort-more" class="px-3 py-1.5 bg-gray-800 text-gray-300 rounded-full text-sm font-medium hover:bg-gray-700 whitespace-nowrap">
                            <i class="fas fa-ellipsis mr-1"></i> More
                        </button>
                    </div>
                </div>

                <!-- Posts feed -->
                <div id="posts-feed" class="space-y-4">
                    <!-- Sample post 1 -->
                    <div class="bg-gray-900 rounded-lg shadow-sm post-card fade-in">
                        <div class="p-4">
                            <div class="flex items-start">
                                <!-- Vote buttons -->
                                <div class="flex flex-col items-center mr-4">
                                    <button class="vote-button text-gray-400 hover:text-purple-500">
                                        <i class="fas fa-arrow-up text-xl"></i>
                                    </button>
                                    <span class="my-1 font-medium text-gray-300">5.4m</span>
                                    <button class="vote-button text-gray-400 hover:text-blue-500">
                                        <i class="fas fa-arrow-down text-xl"></i>
                                    </button>
                                </div>

                                <!-- Post content -->
                                <div class="flex-1">
                                    <div class="flex items-center text-xs text-gray-400 mb-2">
                                        <span class="w-6 h-6 rounded-full bg-blue-500 flex items-center justify-center text-white text-xs mr-2">S</span>
                                        <span class="font-medium">SmileX</span>
                                        <span class="mx-1">•</span>
                                        <span>Posted by SmileX</span>
                                        <span class="mx-1">•</span>
                                        <span>Later</span>
                                    </div>

                                    <h3 class="text-xl font-medium mb-2">WELCOME EVERYONE.</h3>

                                    <div class="prose dark:prose-invert max-w-none mb-4">
                                        <p>Welcome, everyone and those viewing this message to explore and have fun on this page, but remember the rules and regulations</p>
                                    </div>

                                    <div class="flex items-center justify-between">
                                        <div class="flex space-x-4">
                                            <button class="flex items-center text-gray-400 hover:text-purple-400">
                                                <i class="far fa-comment mr-1"></i>
                                                <span>1.4k Comments</span>
                                            </button>
                                            <button class="flex items-center text-gray-400 hover:text-green-500">
                                                <i class="fas fa-share mr-1"></i>
                                                <span>Share</span>
                                            </button>
                                            <button class="flex items-center text-gray-400 hover:text-yellow-500">
                                                <i class="far fa-bookmark mr-1"></i>
                                                <span>Save</span>
                                            </button>
                                        </div>
                                        <button class="text-gray-400 hover:text-red-500">
                                            <i class="fas fa-ellipsis-h"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Sample post 2 (image) -->
                    <div class="bg-gray-900 rounded-lg shadow-sm post-card fade-in">
                        <div class="p-4">
                            <div class="flex items-start">
                                <!-- Vote buttons -->
                                <div class="flex flex-col items-center mr-4">
                                    <button class="vote-button text-gray-400 hover:text-purple-500">
                                        <i class="fas fa-arrow-up text-xl"></i>
                                    </button>
                                    <span class="my-1 font-medium text-gray-300">2.7m</span>
                                    <button class="vote-button text-gray-400 hover:text-blue-500">
                                        <i class="fas fa-arrow-down text-xl"></i>
                                    </button>
                                </div>

                                <!-- Post content -->
                                <div class="flex-1">
                                    <div class="flex items-center text-xs text-gray-400 mb-2">
                                        <span class="w-6 h-6 rounded-full bg-green-500 flex items-center justify-center text-white text-xs mr-2">T</span>
                                        <span class="font-medium">Team SmileX</span>
                                        <span class="mx-1">•</span>
                                        <span>Posted by Team SmileX</span>
                                        <span class="mx-1">•</span>
                                        <span>Later</span>
                                    </div>

                                    <h3 class="text-xl font-medium mb-2">Hi everyone, good luck on this page</h3>

                                    <div class="mb-4">
                                        <img src="https://source.unsplash.com/random/800x600/?grand,canyon,sunrise"
                                            alt="Grand Canyon sunrise"
                                            class="w-full h-auto rounded-lg object-cover max-h-96">
                                    </div>

                                    <div class="flex items-center justify-between">
                                        <div class="flex space-x-4">
                                            <button class="flex items-center text-gray-400 hover:text-purple-400">
                                                <i class="far fa-comment mr-1"></i>
                                                <span>423 Comments</span>
                                            </button>
                                            <button class="flex items-center text-gray-400 hover:text-green-500">
                                                <i class="fas fa-share mr-1"></i>
                                                <span>Share</span>
                                            </button>
                                            <button class="flex items-center text-gray-400 hover:text-yellow-500">
                                                <i class="far fa-bookmark mr-1"></i>
                                                <span>Save</span>
                                            </button>
                                        </div>
                                        <button class="text-gray-400 hover:text-red-500">
                                            <i class="fas fa-ellipsis-h"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Sample post 3 (poll) -->
                    <div class="bg-gray-900 rounded-lg shadow-sm post-card fade-in">
                        <div class="p-4">
                            <div class="flex items-start">
                                <!-- Vote buttons -->
                                <div class="flex flex-col items-center mr-4">
                                    <button class="vote-button text-gray-400 hover:text-purple-500">
                                        <i class="fas fa-arrow-up text-xl"></i>
                                    </button>
                                    <span class="my-1 font-medium text-gray-300">7.4m</span>
                                    <button class="vote-button text-gray-400 hover:text-blue-500">
                                        <i class="fas fa-arrow-down text-xl"></i>
                                    </button>
                                </div>

                                <!-- Post content -->
                                <div class="flex-1">
                                    <div class="flex items-center text-xs text-gray-400 mb-2">
                                        <span class="w-6 h-6 rounded-full bg-yellow-500 flex items-center justify-center text-white text-xs mr-2">S</span>
                                        <span class="font-medium">SmileX</span>
                                        <span class="mx-1">•</span>
                                        <span>Posted by SmileX</span>
                                        <span class="mx-1">•</span>
                                        <span>Later</span>
                                    </div>

                                    <h3 class="text-xl font-medium mb-2">What are you most excited for?</h3>

                                    <div class="mb-4">
                                        <div class="space-y-2">
                                            <div class="flex items-center justify-between p-3 bg-gray-800 rounded-lg">
                                                <span>Entertainment</span>
                                                <span class="text-sm text-gray-400">24% (2.6m votes)</span>
                                            </div>
                                            <div class="flex items-center justify-between p-3 bg-gray-800 rounded-lg">
                                                <span>Music</span>
                                                <span class="text-sm text-gray-400">14% (1.34m votes)</span>
                                            </div>
                                            <div class="flex items-center justify-between p-3 bg-gray-800 rounded-lg">
                                                <span>Sports</span>
                                                <span class="text-sm text-gray-400">35% (3.7m votes)</span>
                                            </div>
                                            <div class="flex items-center justify-between p-3 bg-gray-800 rounded-lg">
                                                <span>Gaming</span>
                                                <span class="text-sm text-gray-400">27% (2.9m votes)</span>
                                            </div>
                                        </div>
                                        <div class="mt-2 text-xs text-gray-400">
                                            10.54m votes • Vote ended
                                        </div>
                                    </div>

                                    <div class="flex items-center justify-between">
                                        <div class="flex space-x-4">
                                            <button class="flex items-center text-gray-400 hover:text-purple-400">
                                                <i class="far fa-comment mr-1"></i>
                                                <span>872 Comments</span>
                                            </button>
                                            <button class="flex items-center text-gray-400 hover:text-green-500">
                                                <i class="fas fa-share mr-1"></i>
                                                <span>Share</span>
                                            </button>
                                            <button class="flex items-center text-gray-400 hover:text-yellow-500">
                                                <i class="far fa-bookmark mr-1"></i>
                                                <span>Save</span>
                                            </button>
                                        </div>
                                        <button class="text-gray-400 hover:text-red-500">
                                            <i class="fas fa-ellipsis-h"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Load more button -->
                <div class="mt-6 text-center">
                    <button id="load-more-btn" class="px-6 py-2 bg-gray-800 text-purple-400 rounded-lg font-medium hover:bg-gray-700">
                        Load more posts
                    </button>
                </div>
            </div>

            <!-- Right sidebar - Recommendations -->
            <div class="lg:w-1/5 hidden lg:block">
                <div class="bg-gray-900 rounded-lg shadow-sm p-4 sticky top-24">
                    <h3 class="font-bold text-lg mb-4 flex items-center">
                        <i class="fas fa-compass mr-2 text-purple-500"></i>
                        Discover
                    </h3>

                    <!-- Recommended communities -->
                    <div class="space-y-4">
                        <div class="community-card bg-gray-800 rounded-lg p-3">
                            <div class="flex items-center mb-2">
                                <span class="w-8 h-8 rounded-full bg-indigo-500 flex items-center justify-center text-white text-xs mr-2">t</span>
                                <div>
                                    <h4 class="font-medium">SmileX</h4>
                                    <p class="text-xs text-gray-400">12.5m members</p>
                                </div>
                            </div>
                            <p class="text-sm text-gray-300 mb-3">The latest in updates and innovation</p>
                            <button class="w-full py-1 px-3 bg-purple-600 text-white rounded-full text-xs font-medium hover:bg-purple-700">
                                Join
                            </button>
                        </div>

                        <div class="community-card bg-gray-800 rounded-lg p-3">
                            <div class="flex items-center mb-2">
                                <span class="w-8 h-8 rounded-full bg-pink-500 flex items-center justify-center text-white text-xs mr-2">a</span>
                                <div>
                                    <h4 class="font-medium">Team SmileX</h4>
                                    <p class="text-xs text-gray-400">8.2m members</p>
                                </div>
                            </div>
                            <p class="text-sm text-gray-300 mb-3">Ask Anything interviews</p>
                            <button class="w-full py-1 px-3 bg-purple-600 text-white rounded-full text-xs font-medium hover:bg-purple-700">
                                Join
                            </button>
                        </div>

                        <div class="community-card bg-gray-800 rounded-lg p-3">
                            <div class="flex items-center mb-2">
                                <span class="w-8 h-8 rounded-full bg-purple-500 flex items-center justify-center text-white text-xs mr-2">m</span>
                                <div>
                                    <h4 class="font-medium">m/Memes</h4>
                                    <p class="text-xs text-gray-400">5.7m members</p>
                                </div>
                            </div>
                            <p class="text-sm text-gray-300 mb-3">The funniest memes on the internet</p>
                            <button class="w-full py-1 px-3 bg-purple-600 text-white rounded-full text-xs font-medium hover:bg-purple-700">
                                Join
                            </button>
                        </div>
                    </div>

                    <!-- Premium ad -->
                    <div class="mt-6 bg-gradient-to-r from-purple-500 to-blue-500 rounded-lg p-4 text-white">
                        <div class="flex items-center mb-2">
                            <i class="fas fa-crown text-xl mr-2"></i>
                            <h4 class="font-bold">SmileX Premium</h4>
                        </div>
                        <p class="text-sm mb-3">Get ad-free browsing, exclusive awards, and support ChatX.</p>
                        <button id="premium-btn" class="w-full py-1.5 px-3 bg-white text-purple-600 rounded-full text-sm font-medium hover:bg-gray-100">
                            TRY PREMIUM
                        </button>
                    </div>

                    <!-- Footer links -->
                    <div class="mt-6 text-xs text-gray-400 space-y-2">
                        <div class="flex flex-wrap gap-2">
                            <a href="aboutus.html" class="hover:underline">About us</a>
                            <a href="service.html" class="hover:underline">Contact us</a>
                            <a href="learn.html" class="hover:underline">Learn more</a>
                            <a href="cancel.html" class="hover:underline">Get premium</a>
                        </div>
                        <p>© 2026 SmileX, Inc. All rights reserved.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile bottom navigation -->
    <div class="lg:hidden fixed bottom-0 left-0 right-0 bg-gray-900 shadow-lg border-t border-gray-800 z-50">
        <div class="flex justify-around items-center h-16">
            <a href="#" class="flex flex-col items-center justify-center text-purple-400">
                <i class="fas fa-home text-xl"></i>
                <span class="text-xs mt-1">Home</span>
            </a>
            <a href="#" class="flex flex-col items-center justify-center text-gray-400">
                <i class="fas fa-compass text-xl"></i>
                <span class="text-xs mt-1">Explore</span>
            </a>
            <a href="#" class="flex flex-col items-center justify-center text-gray-400">
                <i class="fas fa-plus-circle text-xl"></i>
                <span class="text-xs mt-1">Create</span>
            </a>
            <a href="#" class="flex flex-col items-center justify-center text-gray-400">
                <i class="fas fa-bell text-xl"></i>
                <span class="text-xs mt-1">Notifications</span>
            </a>
            <a href="#" class="flex flex-col items-center justify-center text-gray-400">
                <i class="fas fa-inbox text-xl"></i>
                <span class="text-xs mt-1">Inbox</span>
            </a>
        </div>
    </div>

    <!-- Create post modal -->
    <div id="create-post-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
        <div class="bg-gray-900 rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] flex flex-col">
            <!-- Modal header -->
            <div class="p-4 border-b border-gray-800 flex items-center justify-between">
                <h3 class="text-lg font-bold">Create a post</h3>
                <button onclick="document.getElementById('create-post-modal').classList.add('hidden')" class="text-gray-400 hover:text-gray-300">
                    <i class="fas fa-times"></i>
                </button>
            </div>

            <!-- Modal content -->
            <div class="p-4 flex-1 overflow-y-auto">
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-300 mb-1">Choose a community</label>
                    <select class="w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                        <option>Select a community</option>
                        <option>General</option>
                        <option>Your post</option>
                        <option>SmileX</option>
                        <option>Team SmileX</option>
                    </select>
                </div>

                <div class="mb-4">
                    <input type="text" placeholder="Title" class="w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                </div>

                <div class="mb-4">
                    <textarea placeholder="What are your thoughts?" rows="6" class="w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"></textarea>
                </div>

                <div class="border-2 border-dashed border-gray-700 rounded-lg p-4 text-center mb-4">
                    <i class="fas fa-image text-3xl text-gray-500 mb-2"></i>
                    <p class="text-gray-400">Drag and drop images or <button class="text-purple-400 font-medium">browse</button></p>
                </div>

                <div class="flex items-center justify-between text-sm text-gray-400">
                    <div class="flex space-x-3">
                        <button class="flex items-center">
                            <i class="far fa-image mr-1"></i> Image
                        </button>
                        <button class="flex items-center">
                            <i class="fas fa-link mr-1"></i> Link
                        </button>
                        <button class="flex items-center">
                            <i class="fas fa-poll mr-1"></i> Poll
                        </button>
                    </div>
                    <button class="text-sm">
                        <i class="fas fa-markdown mr-1"></i> Markdown
                    </button>
                </div>
            </div>

            <!-- Modal footer -->
            <div class="p-4 border-t border-gray-800 flex justify-end">
                <button onclick="document.getElementById('create-post-modal').classList.add('hidden')" class="px-4 py-2 bg-gray-800 text-gray-300 rounded-lg mr-2 hover:bg-gray-700">
                    Cancel
                </button>
                <button class="px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600">
                    Post
                </button>
            </div>
        </div>
    </div>

    <!-- Create community modal -->
    <div id="create-community-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
        <div class="bg-gray-900 rounded-lg shadow-xl w-full max-w-md max-h-[90vh] flex flex-col">
            <!-- Modal header -->
            <div class="p-4 border-b border-gray-800 flex items-center justify-between">
                <h3 class="text-lg font-bold">Create a community</h3>
                <button onclick="document.getElementById('create-community-modal').classList.add('hidden')" class="text-gray-400 hover:text-gray-300">
                    <i class="fas fa-times"></i>
                </button>
            </div>

            <!-- Modal content -->
            <div class="p-4 flex-1 overflow-y-auto">
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-300 mb-1">Name</label>
                    <div class="flex">
                        <span class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-700 bg-gray-800 text-gray-300 text-sm">
                            t/
                        </span>
                        <input type="text" placeholder="community-name" class="flex-1 min-w-0 block w-full px-3 py-2 rounded-none rounded-r-md bg-gray-800 border border-gray-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                    </div>
                    <p class="mt-1 text-xs text-gray-400">Community names including capitalization cannot be changed.</p>
                </div>

                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-300 mb-1">Description (optional)</label>
                    <textarea rows="3" class="w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"></textarea>
                </div>

                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-300 mb-1">Community type</label>
                    <div class="space-y-2">
                        <div class="flex items-center">
                            <input id="public" name="community-type" type="radio" class="h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-700" checked>
                            <label for="public" class="ml-2 block text-sm text-gray-300">
                                <span class="font-medium">Public</span>
                                <span class="block text-xs text-gray-400">Anyone can view, post, and comment to this community</span>
                            </label>
                        </div>
                        <div class="flex items-center">
                            <input id="restricted" name="community-type" type="radio" class="h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-700">
                            <label for="restricted" class="ml-2 block text-sm text-gray-300">
                                <span class="font-medium">Restricted</span>
                                <span class="block text-xs text-gray-400">Anyone can view this community, but only approved users can post</span>
                            </label>
                        </div>
                        <div class="flex items-center">
                            <input id="private" name="community-type" type="radio" class="h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-700">
                            <label for="private" class="ml-2 block text-sm text-gray-300">
                                <span class="font-medium">Private</span>
                                <span class="block text-xs text-gray-400">Only approved users can view and submit to this community</span>
                            </label>
                        </div>
                    </div>
                </div>

                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-300 mb-1">Community icon (optional)</label>
                    <div class="border-2 border-dashed border-gray-700 rounded-lg p-4 text-center">
                        <i class="fas fa-image text-3xl text-gray-500 mb-2"></i>
                        <p class="text-gray-400">Drag and drop images or <button class="text-purple-400 font-medium">browse</button></p>
                    </div>
                </div>
            </div>

            <!-- Modal footer -->
            <div class="p-4 border-t border-gray-800 flex justify-end">
                <button onclick="document.getElementById('create-community-modal').classList.add('hidden')" class="px-4 py-2 bg-gray-800 text-gray-300 rounded-lg mr-2 hover:bg-gray-700">
                    Cancel
                </button>
                <button class="px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600">
                    Create Community
                </button>
            </div>
        </div>
    </div>

    <!-- Premium modal -->
    <div id="premium-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
        <div class="bg-gray-900 rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] flex flex-col">
            <!-- Modal header -->
            <div class="p-4 border-b border-gray-800 flex items-center justify-between">
                <h3 class="text-lg font-bold">SmileX Premium</h3>
                <button onclick="document.getElementById('premium-modal').classList.add('hidden')" class="text-gray-400 hover:text-gray-300">
                    <i class="fas fa-times"></i>
                </button>
            </div>

            <!-- Modal content -->
            <div class="p-4 flex-1 overflow-y-auto">
                <div class="bg-gradient-to-r from-purple-500 to-blue-500 rounded-lg p-6 text-white mb-6">
                    <div class="flex items-center mb-4">
                        <i class="fas fa-crown text-2xl mr-2"></i>
                        <h3 class="text-xl font-bold">Try SmileX Premium</h3>
                    </div>
                    <p class="mb-4">Get ad-free browsing, exclusive awards, and support SmileX.</p>
                    <div class="flex items-center">
                        <i class="fas fa-check-circle mr-2"></i>
                        <span>7-day free trial</span>
                    </div>
                </div>

                <div class="grid md:grid-cols-3 gap-4 mb-6">
                    <div class="bg-gray-800 rounded-lg p-4 border border-gray-700">
                        <h4 class="font-bold mb-2">Monthly</h4>
                        <p class="text-2xl font-bold mb-2">$4.99<span class="text-sm font-normal text-gray-400">/month</span></p>
                        <p class="text-xs text-gray-400 mb-4">Billed monthly</p>
                        <button class="w-full py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700">
                            Choose
                        </button>
                    </div>
                    <div class="bg-gray-800 rounded-lg p-4 border-2 border-purple-500 relative">
                        <div class="absolute -top-2 -right-2 bg-purple-500 text-white text-xs px-2 py-1 rounded-full">POPULAR</div>
                        <h4 class="font-bold mb-2">Annual</h4>
                        <p class="text-2xl font-bold mb-2">$49.99<span class="text-sm font-normal text-gray-400">/year</span></p>
                        <p class="text-xs text-gray-400 mb-4">Save 16% ($0.83/month)</p>
                        <button class="w-full py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700">
                            Choose
                        </button>
                    </div>
                    <div class="bg-gray-800 rounded-lg p-4 border border-gray-700">
                        <h4 class="font-bold mb-2">Lifetime</h4>
                        <p class="text-2xl font-bold mb-2">$99.99</p>
                        <p class="text-xs text-gray-400 mb-4">One-time payment</p>
                        <button class="w-full py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700">
                            Choose
                        </button>
                    </div>
                </div>

                <div class="bg-gray-800 rounded-lg p-4 border border-gray-700">
                    <h4 class="font-bold mb-2">What's included in Premium?</h4>
                    <ul class="space-y-3">
                        <li class="flex items-start">
                            <i class="fas fa-check text-purple-500 mr-2 mt-1"></i>
                            <span>Ad-free browsing experience</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-check text-purple-500 mr-2 mt-1"></i>
                            <span>Exclusive awards to give to posts and comments</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-check text-purple-500 mr-2 mt-1"></i>
                            <span>Custom app icons and themes</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-check text-purple-500 mr-2 mt-1"></i>
                            <span>Premium community badge</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-check text-purple-500 mr-2 mt-1"></i>
                            <span>Early access to new features</span>
                        </li>
                    </ul>
                </div>
            </div>

            <!-- Modal footer -->
            <div class="p-4 border-t border-gray-800 text-center text-xs text-gray-400">
                <p>By subscribing, you agree to our Terms of Service and Privacy Policy. Your subscription will automatically renew unless canceled at least 24 hours before the end of the current period. You can manage your subscription in your account settings.</p>
            </div>
        </div>
    </div>

    <!-- Live Chat Toggle Button -->
    <button id="chat-toggle-btn" class="chat-toggle">
        <i class="fas fa-comment-dots"></i>
    </button>

    <!-- Live Chat Container -->
    <div id="chat-container" class="chat-container">
        <div class="chat-header">
            <h3>Live Chat Support</h3>
            <button id="chat-close-btn" class="chat-close">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="chat-messages" id="chat-messages">
            <!-- Messages will be added here dynamically -->
            <div class="message">
                <div class="message-user">Support Agent</div>
                <div class="message-text">Hello! How can we help you today?</div>
                <div class="message-time">Just now</div>
            </div>
        </div>
        <div class="chat-input-container">
            <input type="text" id="chat-input" class="chat-input" placeholder="Type your message...">
            <button id="chat-send-btn" class="chat-send">
                <i class="fas fa-paper-plane"></i>
            </button>
        </div>
    </div>

    <!-- Dark mode toggle -->
    <button id="dark-mode-toggle" class="fixed bottom-4 right-24 w-12 h-12 rounded-full bg-gray-800 shadow-lg flex items-center justify-center text-gray-300 z-50">
        <i class="fas fa-moon dark:hidden"></i>
        <i class="fas fa-sun hidden dark:block"></i>
    </button>

    <script>
        // Font Awesome icons
        document.addEventListener('DOMContentLoaded', function() {
            // Load Font Awesome if not already loaded
            if (!document.querySelector('.fa-font-awesome')) {
                const faScript = document.createElement('script');
                faScript.src = 'https://kit.fontawesome.com/a076d05399.js';
                document.head.appendChild(faScript);
            }
        });

        // Dark mode toggle
        const darkModeToggle = document.getElementById('dark-mode-toggle');
        const html = document.documentElement;

        // Check for saved user preference or system preference
        const userPrefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
        const savedTheme = localStorage.getItem('theme');

        if (savedTheme === 'dark' || (!savedTheme && userPrefersDark)) {
            html.classList.add('dark');
        }

        darkModeToggle.addEventListener('click', () => {
            html.classList.toggle('dark');
            localStorage.setItem('theme', html.classList.contains('dark') ? 'dark' : 'light');
        });

        // Mobile menu toggle
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');

        mobileMenuBtn.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });

        // Notification dropdown
        const notificationBtn = document.getElementById('notification-btn');
        const notificationDropdown = document.getElementById('notification-dropdown');
        const notificationCount = document.getElementById('notification-count');

        // Show notification count
        notificationCount.classList.remove('hidden');

        notificationBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            notificationDropdown.classList.toggle('hidden');
            
            // Mark notifications as read
            notificationCount.classList.add('hidden');
        });

        // Close dropdown when clicking outside
        document.addEventListener('click', (e) => {
            if (!notificationBtn.contains(e.target) && !notificationDropdown.contains(e.target)) {
                notificationDropdown.classList.add('hidden');
            }
        });

        // User dropdown
        const userDropdownBtn = document.getElementById('user-dropdown-btn');
        const userDropdown = document.getElementById('user-dropdown');

        userDropdownBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            userDropdown.classList.toggle('hidden');
        });

        // Close dropdown when clicking outside
        document.addEventListener('click', (e) => {
            if (!userDropdownBtn.contains(e.target) && !userDropdown.contains(e.target)) {
                userDropdown.classList.add('hidden');
            }
        });

        // Create community modal
        const createCommunityBtn = document.getElementById('create-community-btn');
        const createCommunityModal = document.getElementById('create-community-modal');

        createCommunityBtn.addEventListener('click', () => {
            createCommunityModal.classList.remove('hidden');
        });

        // Premium modal
        const premiumBtn = document.getElementById('premium-btn');
        const premiumModal = document.getElementById('premium-modal');

        premiumBtn.addEventListener('click', () => {
            premiumModal.classList.remove('hidden');
        });

        // Post sorting
        const sortHot = document.getElementById('sort-hot');
        const sortNew = document.getElementById('sort-new');
        const sortTop = document.getElementById('sort-top');
        const sortMore = document.getElementById('sort-more');

        function resetSortButtons() {
            sortHot.classList.remove('text-purple-400');
            sortHot.classList.add('text-gray-300');
            sortNew.classList.remove('text-purple-400');
            sortNew.classList.add('text-gray-300');
            sortTop.classList.remove('text-purple-400');
            sortTop.classList.add('text-gray-300');
            sortMore.classList.remove('text-purple-400');
            sortMore.classList.add('text-gray-300');
        }

        sortHot.addEventListener('click', () => {
            resetSortButtons();
            sortHot.classList.remove('text-gray-300');
            sortHot.classList.add('text-purple-400');
            // Here you would typically reload posts with hot sorting
        });

        sortNew.addEventListener('click', () => {
            resetSortButtons();
            sortNew.classList.remove('text-gray-300');
            sortNew.classList.add('text-purple-400');
            // Here you would typically reload posts with new sorting
        });

        sortTop.addEventListener('click', () => {
            resetSortButtons();
            sortTop.classList.remove('text-gray-300');
            sortTop.classList.add('text-purple-400');
            // Here you would typically reload posts with top sorting
        });

        sortMore.addEventListener('click', () => {
            resetSortButtons();
            sortMore.classList.remove('text-gray-300');
            sortMore.classList.add('text-purple-400');
            // Here you would typically show more sorting options
        });

        // Sample functionality for upvoting/downvoting
        document.querySelectorAll('.vote-button').forEach(button => {
            button.addEventListener('click', function() {
                const voteContainer = this.closest('.flex.flex-col.items-center');
                const countElement = voteContainer.querySelector('span.font-medium');
                let count = parseInt(countElement.textContent.replace(/[^\d]/g, ''));

                if (this.querySelector('.fa-arrow-up')) {
                    if (this.classList.contains('text-purple-500')) {
                        // Already upvoted - remove vote
                        this.classList.remove('text-purple-500');
                        count--;
                    } else {
                        // Upvote
                        this.classList.add('text-purple-500');
                        const downButton = voteContainer.querySelector('.fa-arrow-down').closest('button');
                        if (downButton.classList.contains('text-blue-500')) {
                            downButton.classList.remove('text-blue-500');
                            count += 2; // Remove downvote and add upvote
                        } else {
                            count++;
                        }
                    }
                } else if (this.querySelector('.fa-arrow-down')) {
                    if (this.classList.contains('text-blue-500')) {
                        // Already downvoted - remove vote
                        this.classList.remove('text-blue-500');
                        count++;
                    } else {
                        // Downvote
                        this.classList.add('text-blue-500');
                        const upButton = voteContainer.querySelector('.fa-arrow-up').closest('button');
                        if (upButton.classList.contains('text-purple-500')) {
                            upButton.classList.remove('text-purple-500');
                            count -= 2; // Remove upvote and add downvote
                        } else {
                            count--;
                        }
                    }
                }

                // Format the count (e.g., 1.5k for 1500)
                countElement.textContent = count >= 1000 ? (count / 1000).toFixed(1) + 'k' : count;
            });
        });

        // Simulate loading more posts
        document.getElementById('load-more-btn').addEventListener('click', function() {
            const originalText = this.textContent;
            this.innerHTML = '<div class="spinner mx-auto h-5 w-5"></div>';
            this.disabled = true;

            // Simulate API call delay
            setTimeout(() => {
                const postsFeed = document.getElementById('posts-feed');

                // Create a new sample post
                const newPost = document.createElement('div');
                newPost.className = 'bg-gray-900 rounded-lg shadow-sm post-card fade-in';
                newPost.innerHTML = `
                    <div class="p-4">
                        <div class="flex items-start">
                            <div class="flex flex-col items-center mr-4">
                                <button class="vote-button text-gray-400 hover:text-purple-500">
                                    <i class="fas fa-arrow-up text-xl"></i>
                                </button>
                                <span class="my-1 font-medium text-gray-300">2.1k</span>
                                <button class="vote-button text-gray-400 hover:text-blue-500">
                                    <i class="fas fa-arrow-down text-xl"></i>
                                </button>
                            </div>
                                                        
                            <div class="flex-1">
                                <div class="flex items-center text-xs text-gray-400 mb-2">
                                    <span class="w-6 h-6 rounded-full bg-orange-500 flex items-center justify-center text-white text-xs mr-2">f</span>
                                    <span class="font-medium">f/Food</span>
                                    <span class="mx-1">•</span>
                                    <span>Posted by u/chef_extraordinaire</span>
                                    <span class="mx-1">•</span>
                                    <span>3 hours ago</span>
                                </div>
                                                                
                                <h3 class="text-xl font-medium mb-2">My homemade sourdough after 6 months of practice</h3>
                                                                
                                <div class="mb-4">
                                    <img src="https://source.unsplash.com/random/800x600/?bread,sourdough"
                                        alt="Sourdough bread"
                                        class="w-full h-auto rounded-lg object-cover max-h-96">
                                </div>
                                                                
                                <div class="flex items-center justify-between">
                                    <div class="flex space-x-4">
                                        <button class="flex items-center text-gray-400 hover:text-purple-400">
                                            <i class="far fa-comment mr-1"></i>
                                            <span>327 Comments</span>
                                        </button>
                                        <button class="flex items-center text-gray-400 hover:text-green-500">
                                            <i class="fas fa-share mr-1"></i>
                                            <span>Share</span>
                                        </button>
                                        <button class="flex items-center text-gray-400 hover:text-yellow-500">
                                            <i class="far fa-bookmark mr-1"></i>
                                            <span>Save</span>
                                        </button>
                                    </div>
                                    <button class="text-gray-400 hover:text-red-500">
                                        <i class="fas fa-ellipsis-h"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                `;

                // Add the new post to the feed
                postsFeed.appendChild(newPost);

                // Reattach event listeners to the new vote buttons
                newPost.querySelectorAll('.vote-button').forEach(button => {
                    button.addEventListener('click', function() {
                        const voteContainer = this.closest('.flex.flex-col.items-center');
                        const countElement = voteContainer.querySelector('span.font-medium');
                        let count = parseInt(countElement.textContent.replace(/[^\d]/g, ''));

                        if (this.querySelector('.fa-arrow-up')) {
                            if (this.classList.contains('text-purple-500')) {
                                this.classList.remove('text-purple-500');
                                count--;
                            } else {
                                this.classList.add('text-purple-500');
                                const downButton = voteContainer.querySelector('.fa-arrow-down').closest('button');
                                if (downButton.classList.contains('text-blue-500')) {
                                    downButton.classList.remove('text-blue-500');
                                    count += 2;
                                } else {
                                    count++;
                                }
                            }
                        } else if (this.querySelector('.fa-arrow-down')) {
                            if (this.classList.contains('text-blue-500')) {
                                this.classList.remove('text-blue-500');
                                count++;
                            } else {
                                this.classList.add('text-blue-500');
                                const upButton = voteContainer.querySelector('.fa-arrow-up').closest('button');
                                if (upButton.classList.contains('text-purple-500')) {
                                    upButton.classList.remove('text-purple-500');
                                    count -= 2;
                                } else {
                                    count--;
                                }
                            }
                        }

                        countElement.textContent = count >= 1000 ? (count / 1000).toFixed(1) + 'k' : count;
                    });
                });

                // Reset the button
                this.textContent = originalText;
                this.disabled = false;
            }, 1500);
        });

        // Join community buttons
        document.querySelectorAll('.community-card button').forEach(button => {
            button.addEventListener('click', function() {
                const originalText = this.textContent;
                this.textContent = 'Joining...';
                this.disabled = true;
                
                setTimeout(() => {
                    this.textContent = 'Joined';
                    this.classList.remove('bg-purple-600', 'hover:bg-purple-700');
                    this.classList.add('bg-gray-700', 'cursor-not-allowed');
                }, 1000);
            });
        });

        // Live Chat Functionality
        const chatToggleBtn = document.getElementById('chat-toggle-btn');
        const chatCloseBtn = document.getElementById('chat-close-btn');
        const chatContainer = document.getElementById('chat-container');
        const chatMessages = document.getElementById('chat-messages');
        const chatInput = document.getElementById('chat-input');
        const chatSendBtn = document.getElementById('chat-send-btn');

        // Toggle chat visibility
        chatToggleBtn.addEventListener('click', () => {
            chatContainer.classList.toggle('active');
            chatToggleBtn.classList.toggle('active');
        });

        // Close chat
        chatCloseBtn.addEventListener('click', () => {
            chatContainer.classList.remove('active');
            chatToggleBtn.classList.remove('active');
        });

        // Send message
        function sendMessage() {
            const messageText = chatInput.value.trim();
            if (messageText) {
                // Add user message
                addMessage('You', messageText, 'user');

                // Clear input
                chatInput.value = '';

                // Simulate bot response after a delay
                setTimeout(() => {
                    const responses = [
                        "Thanks for your message! How can I help you?",
                        "I'll look into that for you.",
                        "Our support team will get back to you shortly.",
                        "That's a great question! Let me check...",
                        "I'm here to help with any questions you have."
                    ];
                    const randomResponse = responses[Math.floor(Math.random() * responses.length)];
                    addMessage('Support Agent', randomResponse
</html>